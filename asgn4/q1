#include <stdio.h>
#include <string.h>
#include <stdlib.h>
// call this file a4phonebook.c
struct PHONE_RECORD {
        // name string of size 50
        char name[50];
        // birthdate string of size 12
        char birthdate[12];
        // phone string of size 15
        char phone[15];
        /* data */
};
// phonebook is an array that contains items from PHONE_RECORD
struct PHONE_RECORD phonebook[10];
int phonebook_length = 0;

int addRecord(char name[], char birth[], char phone[]){
        int i = 0;
        if (phonebook_length >= 10){
                return 1;
        }

        strcpy(phonebook[phonebook_length].name, name);
        strcpy(phonebook[phonebook_length].birthdate, birth);
        strcpy(phonebook[phonebook_length].phone, phone);

        phonebook_length++;

        return 0;
}


int listRecords(void){
        if (phonebook_length == 0){
            return 1;
        }

        printf("---- NAME ----    ---- BIRTH DATE ----    ---- PHONE ----\n");

        for (int i = 0; i<phonebook_length; i++){
                printf("%-14s %-20s %-10s\n", phonebook[i].name, phonebook[i].birthdate, phonebook[i].phone);
        }

        return 0;
}


int findRecord(char name[]){
        for (int i = 0; i<phonebook_length; i++){
                if (strcmp(phonebook[i].name, name) == 0){
                        printf("---- NAME ----    ---- BIRTH DATE ----    ---- PHONE ----\n");
                        printf("%-14s %-20s %-10s\n", phonebook[i].name, phonebook[i].birthdate, phonebook[i].phone);
                        return i;
                }
                
                else {
                        printf("Phone record not found\n");
                        return -1;
                }
        }

        return -1;
}

int loadCSV(char *filename){
        *filename = phonebook;
        
}


int main(){
        addRecord("John", "01/01/1990", "1234567890");
        addRecord("Mary", "01/01/1991", "1234567891");

        listRecords();
        findRecord("John");

        return 0;
}

